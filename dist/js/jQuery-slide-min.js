function Slider(d,a){var c={mode:"horizontal",speed:500,perGroup:1,slidePerView:1,autoPlay:0,pagination:null,pageClickable:true};$.extend(c,a);this.block=$(d),this.mode=c.mode,this.speed=c.speed,this.perGroup=c.perGroup,this.slidePerView=c.slidePerView,this.autoPlay=c.autoPlay,this.pagination=$(c.pagination),this.pageClickable=c.pageClickable;this.list=this.block.find("ul"),this.li=this.list.find("li"),this.length=this.li.length,this.slideLength=Math.ceil((this.length-this.perGroup)/this.slidePerView)+1;this.liWidth=this.li.width(),this.liHeight=this.li.height(),this.slideIndex=0,this.timer=null;var b=this;this.canShowPagination=b.pagination&&b.perGroup===1&&b.slidePerView===1;var e=function(){if(b.mode==="horizontal"){b.block.width(b.liWidth*b.perGroup);b.list.width(b.liWidth*b.length);b.list.addClass("slide-horizontal")}else{if(b.mode==="vertical"){b.block.height(b.liHeight*b.perGroup);b.list.height(b.liHeight*b.length);b.list.addClass("slide-vertical")}}if(b.canShowPagination){for(var j=0;j<b.length;j++){b.pagination.append("<span></span>")}b.pagination.find("span").eq(0).addClass("on")}if(b.autoPlay){b.timer=setInterval(function(){b.slideNext(true)},b.autoPlay)}if(b.pageClickable){f()}};this.slidePrev=function(){clearInterval(this.timer);if(this.slideIndex>0){this.slideIndex--;g(this.slidePerView)}else{this.slideTo(this.slideLength-1)}};this.slideNext=function(i){if(!i){clearInterval(this.timer)}if(b.slideIndex<b.slideLength-1){b.slideIndex++;g(-b.slidePerView)}else{b.slideTo(0,i)}};this.slideTo=function(i,k){if(!k){clearInterval(this.timer)}var j=i-this.slideIndex;this.slideIndex=i;g(-j*b.slidePerView)};var g=function(i){if(b.mode==="horizontal"){b.list.animate({left:"+="+i*b.liWidth+"px"},b.speed)}else{if(b.mode==="vertical"){b.list.animate({top:"+="+i*b.liHeight+"px"},b.speed)}}if(b.canShowPagination){h()}};var h=function(){b.pagination.find("span").eq(b.slideIndex).addClass("on").siblings().removeClass("on")};var f=function(){b.pagination.find("span").on("click",function(){var i=$(this).index();b.slideTo(i)})};e()};